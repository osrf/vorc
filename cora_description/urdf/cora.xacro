<?xml version="1.0"?>
<robot xmlns:xacro="http://ros.org/wiki/xacro" name="cora">

  <!-- Include macros for dynamics plugins -->
  <xacro:include filename="$(find cora_description)/urdf/macros.xacro" />

  <!-- Attach hydrodynamics plugin -->
  <xacro:usv_dynamics_gazebo name="cora_dynamics_plugin" />

  <!-- Robot mesh -->
  <xacro:include filename="$(find cora_description)/urdf/cora.urdf.xacro" />

  <!-- Note: this is only used for some sensors that do not correctly use the
  robotNamespace parameter -->
  <xacro:arg name="namespace" default="cora"/>
  <xacro:property name="namespace" value="$(arg namespace)" scope="global" />

  <!-- Thrusters -->
  <xacro:arg name="thruster_namespace" default="thrusters/"/>
  <xacro:property name="thruster_namespace" value="$(arg thruster_namespace)" scope="global" />
  <xacro:include filename="$(find cora_description)/urdf/thrusters.xacro" />

  <!-- Sensors -->
  <xacro:arg name="camera_namespace" default="cameras/"/>
  <xacro:arg name="sensor_namespace" default="sensors/"/>
  <xacro:arg name="pinger_namespace" default="pingers/"/>
  <xacro:property name="camera_namespace" value="$(arg camera_namespace)" scope="global" />
  <xacro:property name="sensor_namespace" value="$(arg sensor_namespace)" scope="global" />
  <xacro:property name="pinger_namespace" value="$(arg pinger_namespace)" scope="global" />
  <xacro:wamv_camera name="front_left_camera"  x="-0.61" y="0.2"  z="4.7" post_z_from="4.6" P="${radians(15)}" />
  <xacro:wamv_camera name="front_right_camera" x="-0.61" y="-0.2" z="4.7" post_z_from="4.6" P="${radians(15)}" />
  <xacro:lidar name="front_lidar" type="16_beam" x="-0.595" z="5" P="${radians(8)}" post_z_from="4.6"/>
  <xacro:wamv_gps name="gps" x="-1.0" z="4.6" />
  <xacro:wamv_imu name="imu" y="-0.2" z="1.0" />
  <xacro:wamv_pinger name="pinger" frameId="cora/pinger" />

</robot>
